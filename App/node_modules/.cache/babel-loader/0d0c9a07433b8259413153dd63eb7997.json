{"ast":null,"code":"/*** CODE SUMMARY\n * code(elem) : Changes the current element with a code block editing div\n *\n * copyCode() : copy the code content into clip board\n *\n */\nfunction code(elem) {\n  let newElement = document.createElement(\"div\"),\n      parent = elem.parentNode;\n  newElement.classList.add(\"codes\");\n  newElement.contentEditable = \"true\";\n  newElement.innerHTML = \"<div className='codes' ><i id='codeCopy' contentEditable='false'class='far copy fa-clipboard'></i><p contentEditable='true' className='code'>code here</p></div>\";\n  parent.replaceChild(newElement, elem);\n  newElement.focus();\n  copyCode();\n}\n\nfunction copyCode() {\n  var btn = document.querySelector(\"#codeCopy\"),\n      codes;\n  btn.addEventListener(\"click\", () => {\n    codes = btn.parentElement.textContent;\n    btn.classList = \"fas copy fa-check\";\n  });\n}\n\nfunction initialize() {\n  document.addEventListener(\"keypress\", fkey);\n\n  function fkey(event) {\n    var elem = document.activeElement;\n\n    if (event.ctrlKey && elem.classList == \"codes\") {\n      elem.classList.add(\"main\");\n    } else {\n      console.log(\"Active element is not code block\");\n    }\n  }\n\n  document.addEventListener(\"keypress\", codeBlock);\n\n  function codeBlock(e) {\n    if (e.keyCode == 32) {\n      var elem = document.activeElement,\n          text = elem.textContent;\n      if (text == \"'''\") code(document.activeElement);\n    }\n  }\n}\n\nexport { initialize };","map":{"version":3,"sources":["/Users/rehanchoudhury/Projects/type-writer/src/components/codes/code.js"],"names":["code","elem","newElement","document","createElement","parent","parentNode","classList","add","contentEditable","innerHTML","replaceChild","focus","copyCode","btn","querySelector","codes","addEventListener","parentElement","textContent","initialize","fkey","event","activeElement","ctrlKey","console","log","codeBlock","e","keyCode","text"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,IAAT,CAAcC,IAAd,EAAoB;AAClB,MAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AAAA,MACEC,MAAM,GAAGJ,IAAI,CAACK,UADhB;AAGAJ,EAAAA,UAAU,CAACK,SAAX,CAAqBC,GAArB,CAAyB,OAAzB;AAEAN,EAAAA,UAAU,CAACO,eAAX,GAA6B,MAA7B;AAEAP,EAAAA,UAAU,CAACQ,SAAX,GACE,kKADF;AAGAL,EAAAA,MAAM,CAACM,YAAP,CAAoBT,UAApB,EAAgCD,IAAhC;AAEAC,EAAAA,UAAU,CAACU,KAAX;AACAC,EAAAA,QAAQ;AACT;;AAED,SAASA,QAAT,GAAoB;AAClB,MAAIC,GAAG,GAAGX,QAAQ,CAACY,aAAT,CAAuB,WAAvB,CAAV;AAAA,MACEC,KADF;AAGAF,EAAAA,GAAG,CAACG,gBAAJ,CAAqB,OAArB,EAA8B,MAAM;AAClCD,IAAAA,KAAK,GAAGF,GAAG,CAACI,aAAJ,CAAkBC,WAA1B;AACAL,IAAAA,GAAG,CAACP,SAAJ,GAAgB,mBAAhB;AACD,GAHD;AAID;;AAKD,SAASa,UAAT,GAAsB;AACpBjB,EAAAA,QAAQ,CAACc,gBAAT,CAA0B,UAA1B,EAAsCI,IAAtC;;AAEA,WAASA,IAAT,CAAcC,KAAd,EAAqB;AACnB,QAAIrB,IAAI,GAAGE,QAAQ,CAACoB,aAApB;;AACA,QAAID,KAAK,CAACE,OAAN,IAAiBvB,IAAI,CAACM,SAAL,IAAkB,OAAvC,EAAgD;AAC9CN,MAAAA,IAAI,CAACM,SAAL,CAAeC,GAAf,CAAmB,MAAnB;AACD,KAFD,MAEO;AACLiB,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD;AACF;;AAEDvB,EAAAA,QAAQ,CAACc,gBAAT,CAA0B,UAA1B,EAAsCU,SAAtC;;AACA,WAASA,SAAT,CAAmBC,CAAnB,EAAsB;AACpB,QAAIA,CAAC,CAACC,OAAF,IAAa,EAAjB,EAAqB;AACnB,UAAI5B,IAAI,GAAGE,QAAQ,CAACoB,aAApB;AAAA,UACEO,IAAI,GAAG7B,IAAI,CAACkB,WADd;AAEA,UAAIW,IAAI,IAAI,KAAZ,EAAmB9B,IAAI,CAACG,QAAQ,CAACoB,aAAV,CAAJ;AACpB;AACF;AACF;;AAOD,SAASH,UAAT","sourcesContent":["/*** CODE SUMMARY\n * code(elem) : Changes the current element with a code block editing div\n *\n * copyCode() : copy the code content into clip board\n *\n */\n\nfunction code(elem) {\n  let newElement = document.createElement(\"div\"),\n    parent = elem.parentNode;\n\n  newElement.classList.add(\"codes\");\n\n  newElement.contentEditable = \"true\";\n\n  newElement.innerHTML =\n    \"<div className='codes' ><i id='codeCopy' contentEditable='false'class='far copy fa-clipboard'></i><p contentEditable='true' className='code'>code here</p></div>\";\n\n  parent.replaceChild(newElement, elem);\n\n  newElement.focus();\n  copyCode();\n}\n\nfunction copyCode() {\n  var btn = document.querySelector(\"#codeCopy\"),\n    codes;\n\n  btn.addEventListener(\"click\", () => {\n    codes = btn.parentElement.textContent;\n    btn.classList = \"fas copy fa-check\";\n  });\n}\n\n\n\n\nfunction initialize() {\n  document.addEventListener(\"keypress\", fkey);\n\n  function fkey(event) {\n    var elem = document.activeElement;\n    if (event.ctrlKey && elem.classList == \"codes\") {\n      elem.classList.add(\"main\"); \n    } else {\n      console.log(\"Active element is not code block\")\n    }\n  }\n\n  document.addEventListener(\"keypress\", codeBlock);\n  function codeBlock(e) {\n    if (e.keyCode == 32) {\n      var elem = document.activeElement,\n        text = elem.textContent;\n      if (text == \"'''\") code(document.activeElement);\n    }\n  }\n}\n\n\n\n\n\n\nexport { initialize };\n"]},"metadata":{},"sourceType":"module"}