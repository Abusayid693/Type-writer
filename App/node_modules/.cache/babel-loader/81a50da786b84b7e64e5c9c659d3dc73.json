{"ast":null,"code":"/********* Variables and functions used through out the blocks ***********/\nimport { formatEqn } from \"./Format-Equations.js\";\nimport { unordered, ordered } from \"./lists.js\";\nexport default function wholeSomeFunction() {\n  var i = 0,\n      //variable used for italics\n  b = 0,\n      //variable used for bold texts\n  initial_release = 0;\n  var initial_v = 0; // import {formatEqn} from \"./Format-Equations.js\";\n  // import {unordered,ordered} from \"./lists.js\"\n\n  function H1() {\n    return document.createElement(\"h1\");\n  }\n\n  function H2() {\n    return document.createElement(\"h2\");\n  }\n\n  function H3() {\n    return document.createElement(\"h3\");\n  }\n\n  function H4() {\n    return document.createElement(\"h4\");\n  } // var i=0, //variable used for italics\n  //     b=0, //variable used for bold texts\n  //     initial_release=0;\n  // var  initial_v=0;\n  // Auto Focus on the parent element\n\n\n  function auto_Focus() {\n    document.querySelector(\"#pad_parent\").focus();\n  }\n  /** Event Append = When user presses `Enter` it creates a new `p`\n   element and append it to main child body, only to replace the child element according to users entry **/\n\n\n  document.addEventListener('keypress', append);\n\n  function append(e) {\n    if (e.which === 13 && document.activeElement.classList.contains(\"main\")) {\n      var elem,\n          parent,\n          newH = document.createElement(\"hr\"),\n          btn = document.createElement(\"p\");\n      btn.classList.add(\"main\"); //  only first time case     \n\n      if (!initial_release) elem = document.querySelector(\".pad\");else elem = document.activeElement;\n      parent = elem.parentNode;\n      btn.contentEditable = \"true\";\n      initial_release = 1; //   Handling exception for LI elements\n\n      if (elem.nodeName == \"LI\") {\n        elem = elem.parentNode;\n        parent = elem.parentNode;\n        elem.parentNode.insertBefore(btn, elem.nextSibling);\n      } else {\n        newH.style.opacity = 0;\n        elem.parentNode.insertBefore(newH, elem.nextSibling);\n        newH.parentNode.insertBefore(btn, newH.nextSibling);\n      }\n\n      btn.focus();\n      e.preventDefault();\n      i = 0, b = 0;\n    }\n  }\n  /** Event Replace = The primary function for replacing elements as per user entry **/\n\n\n  document.addEventListener('keypress', replace);\n\n  function replace(e) {\n    if (e.keyCode == 32) {\n      var elem = document.activeElement,\n          text = elem.textContent; // alert(text);  \n      //     Handling ordered list items      \n\n      if (!isNaN(text) && text !== '') ordered(elem, text); //      Handling format equations      \n      else if (text[0] == \"$\") formatEqn(elem); //   else if i required    \n      //     Handling different user entries \n\n      switch (text) {\n        case \"#\":\n          heading(elem, H1());\n          break;\n\n        case \"##\":\n          heading(elem, H2());\n          break;\n\n        case \"###\":\n          heading(elem, H3());\n          break;\n\n        case \"####\":\n          heading(elem, H4());\n          break;\n\n        case \"-\":\n          unordered(elem);\n          break;\n\n        case \"---\":\n          hR(elem);\n          break;\n\n        case \"abcd\":\n          formatEqn(elem);\n          break;\n      }\n    }\n  }\n  /** Function for inserting unordered lists **/\n  // function unordered(elem){\n  //     var parent=elem.parentNode,\n  //         active=document.activeElement,\n  //         ul = document.createElement('ul'),\n  //         li = document.createElement('li');\n  //    if(active.nodeName==\"LI\") return;\n  //    ul.appendChild(li);\n  //    ul.classList.add(\"main\");\n  //    li.classList.add(\"main\");\n  //    li.contentEditable=\"true\";\n  //    parent.replaceChild(ul,elem);\n  //    li.focus();\n  // }\n  // function ordered(elem,start){\n  //     var parent=elem.parentNode,\n  //         active=document.activeElement,\n  //         ol = document.createElement('ol'),\n  //         li = document.createElement('li');\n  //    if(active.nodeName==\"LI\") return;\n  //    ol.appendChild(li);\n  //    ol.start=start;\n  //    ol.classList.add(\"main\");\n  //    li.classList.add(\"main\");\n  //    li.contentEditable=\"true\";\n  //    parent.replaceChild(ol,elem);\n  //    li.focus();\n  // }\n\n  /********************** Primary functions for italics and bold texts ******************************/\n\n\n  document.addEventListener('keypress', italicANDbold);\n\n  function italicANDbold(e) {\n    if (e.keyCode == 96 && !i && b) {\n      cursive(e, \"both\");\n      i = 1;\n    }\n\n    if (e.keyCode == 42 && i && !b) {\n      cursive(e, \"both\");\n      b = 1;\n    } //   Returning to normal from italics\n\n\n    if ((e.keyCode == 96 || e.keyCode == 42) && i | b) {\n      cursive(e, \"normal\");\n      i = 0, b = 0;\n    } //   Normal to italics\n    else if (e.keyCode == 96 && !i && !b) {\n        cursive(e, \"italic\");\n        stack.push(\"i\");\n        i = 1;\n      } //   Normal to bold\n      else if (e.keyCode == 42 && !b && !i) {\n          cursive(e, \"bold\");\n          stack.push(\"b\");\n          b = 1;\n        }\n  }\n\n  function cursive(e, type) {\n    var elem = document.activeElement,\n        parent = elem.parentNode,\n        pn;\n    e.preventDefault();\n\n    if (elem.nodeName == \"LI\") {\n      assign(elem, type);\n      return;\n    } else {\n      pn = document.createElement(elem.nodeName);\n      pn.classList.add(\"main\");\n    }\n\n    assign(pn, type);\n    pn.contentEditable = \"true\";\n    pn.style.display = \"inline\";\n    elem.style.display = \"inline\"; // parent.appendChild(pn);  \n\n    elem.parentNode.insertBefore(pn, elem.nextSibling);\n    pn.focus();\n  }\n  /******** Function for assigning bold and italics contents *********/\n\n\n  function assign(pn, type) {\n    if (type == \"both\") {\n      pn.style.fontWeight = \"bold\";\n      pn.style.fontStyle = \"italic\";\n    } else if (type == \"normal\") {\n      return;\n    } else {\n      let a = type == \"bold\" ? pn.style.fontWeight = type : pn.style.fontStyle = type;\n    }\n  }\n  /*****************************************************************************************************************/\n\n  /* Function for replacing heading tags */\n\n\n  function heading(elem, e) {\n    let parent = elem.parentNode,\n        newElement = e;\n    elem.classList.add(\"main\");\n    newElement.classList.add(\"main\");\n    newElement.contentEditable = \"true\";\n    newElement.id = elem.id;\n    parent.replaceChild(newElement, elem);\n    newElement.focus();\n  }\n\n  function pTag(elem) {\n    let parent = elem.parentNode,\n        newElement = document.createElement(\"p\");\n    elem.classList.add(\"main\");\n    newElement.contentEditable = \"true\";\n    newElement.id = elem.id;\n    parent.replaceChild(newElement, elem);\n    newElement.focus();\n  }\n  /************ Event for horizontal ruller ****************/\n\n\n  function hR(elem) {\n    let parent = elem.parentNode,\n        newElement = document.createElement(\"hr\"),\n        parent_new = newElement.parentNode,\n        temp = document.createElement(\"p\");\n    temp.classList.add(\"main\");\n    temp.contentEditable = \"true\";\n    parent.replaceChild(newElement, elem);\n    newElement.parentNode.insertBefore(temp, newElement.nextSibling);\n    temp.focus();\n  }\n  /************ Deleacting node and moving courser functions ********/\n\n\n  document.addEventListener('keydown', function (event) {\n    const key = event.key; // const {key} = event; ES6+\n\n    if (key === \"Backspace\" || key === \"Delete\") {\n      let elem = document.activeElement,\n          previousElem,\n          p_previousElem,\n          parent,\n          p_parent;\n      if (elem.id == \"pad_parent\") return;else if (elem.textContent == \"\") {\n        if (elem.nodeName == \"LI\") {\n          parent = elem.parentElement;\n          pTag(parent);\n        } else {\n          previousElem = elem.previousSibling; //     Removing HR from the thread      \n\n          if (previousElem.nodeName == \"HR\") {\n            p_previousElem = previousElem.previousSibling;\n            previousElem.remove();\n            p_previousElem.focus();\n          }\n\n          if (previousElem !== \"undefined\") previousElem.focus();\n          elem.remove();\n        }\n      }\n    }\n  });\n  /*********** Mathematical formulations ******************/\n  // /*********** Handling Image capture ******************/\n  // HandalingClipBoard();\n  // window.addEventListener('paste', function(e){\n  //  var elem = document.activeElement,\n  //      imgs = e.clipboardData.items,\n  //      c = document.createElement(\"canvas\"),\n  //      p = document.createElement(\"p\")\n  //      $ = c.getContext(\"2d\");\n  // //   detecting clipboard item image or not\n  //  if (e.clipboardData.files.length > 0 && elem.classList.contains(\"main\")) {   \n  // //   Handaling clipboard event to pasta image to a new canvas next to\n  // //   current active element   \n  //      if(imgs == undefined) return false;\n  //     for (var i = 0; i < imgs.length; i++) {\n  //         if (imgs[i].type.indexOf(\"image\") == -1) continue;\n  //           var imgObj = imgs[i].getAsFile();\n  //           var url = window.URL || window.webkitURL;\n  //           var src = url.createObjectURL(imgObj);\n  //           $.clearRect(0,0,this.width,this.height);\n  //           loadImage(src,$,c);\n  //         }\n  //        p.classList.add(\"main\");\n  //        c.classList.add(\"img\")\n  //        p.contentEditable=\"true\";\n  //        c.contentEditable=\"true\";\n  //        elem.parentNode.insertBefore(c, elem.nextSibling);\n  //        c.parentNode.insertBefore(p, c.nextSibling);   \n  //        p.focus();\n  //        e.preventDefault();\n  //   }\n  //   else {\n  //     return;\n  //   };\n  // });\n  // // Drawing image and setting canvas width and height\n  // function loadImage(src,$,c){\n  //   var img = new Image();\n  //   img.onload = function(e) {       \n  //      c.width = this.width;\n  //      c.height = this.height;  \n  //     $.drawImage(img,0,0);\n  //   };\n  //   img.src = src;\n  // }\n  // ********* Formatting quadratic Mathematical Equations ***********\n  // function formatEqn(elem){\n  //   var div = document.createElement(\"div\"),\n  //       parent = elem.parentNode,\n  //       data=[],\n  //       sign=[],\n  //       sup=[],\n  //       d=0,\n  //       s=0,\n  //       su=0,\n  //       f=0,l,\n  //       firstD=1,\n  //       firstS=1,\n  //       temp ;\n  //   div.contentEditable=\"true\" ;\n  //   div.classList.add(\"eqan\");\n  //   div.classList.add(\"main\");\n  //   parent.replaceChild(div,elem);\n  //   for(var i=1;i<elem.textContent.length;i++){\n  //     l = elem.textContent[i]\n  //     if(l==\"^\"){   \n  //       f=1;\n  //       continue;\n  //     }\n  //     else if(l==\"+\" || l==\"-\" || l==\"=\")\n  //     {\n  //       sign[s]=l;\n  //       s++;\n  //       su++;\n  //       d++;\n  //       f=0;\n  //       firstD=1;\n  //       firstS=1;\n  //     }    \n  //     else if(f){\n  //      var temp = (firstS)?sup[su]=l:sup[su]+=l;\n  //      firstS=0;\n  //     }   \n  //     else {\n  //       var temp = (firstD)?data[d]=l:data[d]+=l;\n  //       firstD=0;\n  //     }   \n  //   }\n  //   div.innerHTML=\"<p><var>\";\n  //   for (var i=0;i<data.length;i++){\n  //     if(sup[i]==undefined && sign[i]==undefined)\n  //       div.innerHTML+=data[i]\n  //     else if (sup[i]==undefined)\n  //       div.innerHTML+=data[i]+sign[i];\n  //     else if (sign[i]==undefined)\n  //       div.innerHTML+=data[i]+\"<sup>\"+sup[i]+\"</sup>\";\n  //     else  \n  //       div.innerHTML+=data[i]+\"<sup>\"+sup[i]+\"</sup>\"+ sign[i];\n  //   }\n  //    div.innerHTML+=\"</var></p>\";\n  // }\n}","map":{"version":3,"sources":["/Users/rehanchoudhury/Projects/type-writer/src/components/typewriter.js"],"names":["formatEqn","unordered","ordered","wholeSomeFunction","i","b","initial_release","initial_v","H1","document","createElement","H2","H3","H4","auto_Focus","querySelector","focus","addEventListener","append","e","which","activeElement","classList","contains","elem","parent","newH","btn","add","parentNode","contentEditable","nodeName","insertBefore","nextSibling","style","opacity","preventDefault","replace","keyCode","text","textContent","isNaN","heading","hR","italicANDbold","cursive","stack","push","type","pn","assign","display","fontWeight","fontStyle","a","newElement","id","replaceChild","pTag","parent_new","temp","event","key","previousElem","p_previousElem","p_parent","parentElement","previousSibling","remove"],"mappings":"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","sourcesContent":["/********* Variables and functions used through out the blocks ***********/\nimport {formatEqn} from \"./Format-Equations.js\";\nimport {unordered,ordered} from \"./lists.js\"\n\nexport default function wholeSomeFunction(){\n\n  var i=0, //variable used for italics\n    b=0, //variable used for bold texts\n    initial_release=0;\nvar  initial_v=0;\n// import {formatEqn} from \"./Format-Equations.js\";\n// import {unordered,ordered} from \"./lists.js\"\n\nfunction H1(){  return document.createElement(\"h1\")  }\nfunction H2(){  return document.createElement(\"h2\")  }\nfunction H3(){  return document.createElement(\"h3\")  }\nfunction H4(){  return document.createElement(\"h4\")  }\n// var i=0, //variable used for italics\n//     b=0, //variable used for bold texts\n//     initial_release=0;\n// var  initial_v=0;\n\n\n\n\n// Auto Focus on the parent element\n function auto_Focus() {\n document.querySelector(\"#pad_parent\").focus();\n}\n\n\n\n/** Event Append = When user presses `Enter` it creates a new `p`\n element and append it to main child body, only to replace the child element according to users entry **/\ndocument.addEventListener('keypress', append);\n\nfunction append(e) {  \n   if (e.which === 13 && document.activeElement.classList.contains(\"main\")) {\n     \n      var elem,\n          parent,\n          newH = document.createElement(\"hr\"),\n          btn = document.createElement(\"p\"); \n   btn.classList.add(\"main\");\n     \n//  only first time case     \n   if(!initial_release)\n     elem=document.querySelector(\".pad\");\n   else\n     elem=document.activeElement;\n     \n     \n     parent=elem.parentNode\n     btn.contentEditable=\"true\";  \n     initial_release=1;\n     \n      \n//   Handling exception for LI elements\n    if(elem.nodeName==\"LI\"){\n        elem=elem.parentNode;\n        parent=elem.parentNode;\n        elem.parentNode.insertBefore(btn, elem.nextSibling);\n     }\n     \n   else {\n        newH.style.opacity=0;    \n        elem.parentNode.insertBefore(newH, elem.nextSibling);                 \n        newH.parentNode.insertBefore(btn, newH.nextSibling);\n \n       }\n        btn.focus();                                 \n        e.preventDefault();  \n        i=0,b=0;                                      \n    }\n} \n\n \n\n\n\n\n\n\n\n/** Event Replace = The primary function for replacing elements as per user entry **/\n\ndocument.addEventListener('keypress', replace );\nfunction replace(e){\n    if(e.keyCode == 32){\n      \n    var elem=document.activeElement,\n        text=elem.textContent;\n    \n  // alert(text);  \n       \n//     Handling ordered list items      \n    if (!isNaN(text) && text!=='')\n        ordered(elem,text);\n      \n//      Handling format equations      \n    else if (text[0]==\"$\") formatEqn(elem);\n      \n//   else if i required    \n//     Handling different user entries \n     switch(text){\n       case \"#\":  \n        heading(elem,H1());\n        break;    \n       case \"##\":\n         heading(elem,H2());\n         break;\n       case \"###\":\n         heading(elem,H3());\n         break;\n       case \"####\":\n         heading(elem,H4());\n         break;\n       case \"-\":\n         unordered(elem);\n         break;\n       case \"---\":\n         hR(elem);\n         break;\n       case \"abcd\":\n         formatEqn(elem);\n         break;\n     }        \n  }\n}\n\n\n/** Function for inserting unordered lists **/\n\n// function unordered(elem){\n//     var parent=elem.parentNode,\n//         active=document.activeElement,\n//         ul = document.createElement('ul'),\n//         li = document.createElement('li');\n//    if(active.nodeName==\"LI\") return;\n\n//    ul.appendChild(li);\n//    ul.classList.add(\"main\");\n//    li.classList.add(\"main\");\n\n//    li.contentEditable=\"true\";\n//    parent.replaceChild(ul,elem);\n//    li.focus();\n// }\n\n\n// function ordered(elem,start){\n//     var parent=elem.parentNode,\n//         active=document.activeElement,\n//         ol = document.createElement('ol'),\n//         li = document.createElement('li');\n  \n//    if(active.nodeName==\"LI\") return;\n//    ol.appendChild(li);\n//    ol.start=start;\n//    ol.classList.add(\"main\");\n//    li.classList.add(\"main\");\n  \n//    li.contentEditable=\"true\";\n//    parent.replaceChild(ol,elem);\n//    li.focus();\n// }\n\n\n\n\n\n/********************** Primary functions for italics and bold texts ******************************/\n\n\ndocument.addEventListener('keypress', italicANDbold);\nfunction italicANDbold(e){\n    if (e.keyCode == 96 && !i && b)\n    {\n      cursive(e,\"both\");\n      i=1;\n    }\n  if (e.keyCode == 42 && i && !b)\n    {\n      cursive(e,\"both\");\n      b=1;\n    }  \n//   Returning to normal from italics\n  if( (e.keyCode == 96 || e.keyCode == 42) && (i | b)){\n    cursive(e,\"normal\");\n    i=0,b=0;\n  }\n\n//   Normal to italics\n  else if(e.keyCode == 96 && !i && !b )\n    {\n      cursive(e,\"italic\");\n      stack.push(\"i\");\n      i=1;\n    }\n//   Normal to bold\n  else if(e.keyCode == 42 && !b && !i)\n     {\n     cursive(e,\"bold\");\n     stack.push(\"b\");\n     b=1;  \n     } \n}\n\n\nfunction cursive(e,type){\n \n  var elem=document.activeElement,\n      parent=elem.parentNode,\n      pn;\n     \n    e.preventDefault();  \n      if (elem.nodeName==\"LI\"){\n         assign(elem,type)\n         return;\n       }\n      else {\n         pn = document.createElement(elem.nodeName);\n         pn.classList.add(\"main\");\n      }\n  \n     assign(pn,type) \n     pn.contentEditable=\"true\";\n     pn.style.display=\"inline\";\n     elem.style.display=\"inline\"; \n     // parent.appendChild(pn);  \n     elem.parentNode.insertBefore(pn, elem.nextSibling);\n     pn.focus();\n} \n\n/******** Function for assigning bold and italics contents *********/\n\nfunction assign(pn,type){\n    if(type==\"both\")\n    {\n     pn.style.fontWeight=\"bold\";\n     pn.style.fontStyle=\"italic\";\n   }\n  else if(type==\"normal\")\n  {\n    return;\n  }\n  else{\n    let a= (type==\"bold\")?pn.style.fontWeight=type:pn.style.fontStyle=type;\n  }\n}\n\n\n/*****************************************************************************************************************/\n\n\n\n\n\n/* Function for replacing heading tags */\nfunction heading(elem,e){\n    let parent=elem.parentNode,\n        newElement=e;\n  \n    elem.classList.add(\"main\");\n    newElement.classList.add(\"main\");\n\n    newElement.contentEditable=\"true\";\n    newElement.id=elem.id;\n    parent.replaceChild(newElement,elem);\n    newElement.focus();\n}\n\n\nfunction pTag(elem){\n    let parent=elem.parentNode,\n        newElement=document.createElement(\"p\");\n    elem.classList.add(\"main\");\n    newElement.contentEditable=\"true\";\n    newElement.id=elem.id;\n    parent.replaceChild(newElement,elem);\n    newElement.focus();\n}\n/************ Event for horizontal ruller ****************/\n\nfunction hR(elem){\n  let parent = elem.parentNode,\n      newElement = document.createElement(\"hr\"),\n      parent_new = newElement.parentNode,\n      temp = document.createElement(\"p\");\n  \n  temp.classList.add(\"main\");\n  temp.contentEditable=\"true\";\n  parent.replaceChild(newElement,elem);\n  newElement.parentNode.insertBefore(temp,newElement.nextSibling);\n  temp.focus();\n}\n\n\n/************ Deleacting node and moving courser functions ********/\n\ndocument.addEventListener('keydown', function(event) {\n    const key = event.key; // const {key} = event; ES6+\n  \n    if (key === \"Backspace\" || key === \"Delete\") {\n      \n        let elem=document.activeElement,\n            previousElem,\n            p_previousElem,\n            parent,\n            p_parent;\n      \n        if (elem.id==\"pad_parent\")\n           return;\n      \n      \n    else if(elem.textContent==\"\") {\n\n            if(elem.nodeName==\"LI\"){\n              parent= elem.parentElement;\n              pTag(parent)   \n            }\n            \n            else {              \n               previousElem = elem.previousSibling;               \n        //     Removing HR from the thread      \n               if(previousElem.nodeName==\"HR\")\n                  {  p_previousElem= previousElem.previousSibling;\n                     previousElem.remove();\n                     p_previousElem.focus();                \n                 }\n              \n               if(previousElem!==\"undefined\") \n                 previousElem.focus();\n              elem.remove();              \n             } \n         }\n    }\n\n});\n \n \n\n\n\n\n\n\n/*********** Mathematical formulations ******************/\n\n\n\n// /*********** Handling Image capture ******************/\n// HandalingClipBoard();\n\n// window.addEventListener('paste', function(e){\n  \n//  var elem = document.activeElement,\n//      imgs = e.clipboardData.items,\n//      c = document.createElement(\"canvas\"),\n//      p = document.createElement(\"p\")\n//      $ = c.getContext(\"2d\");\n       \n  \n// //   detecting clipboard item image or not\n//  if (e.clipboardData.files.length > 0 && elem.classList.contains(\"main\")) {   \n// //   Handaling clipboard event to pasta image to a new canvas next to\n// //   current active element   \n//      if(imgs == undefined) return false;\n//     for (var i = 0; i < imgs.length; i++) {\n//         if (imgs[i].type.indexOf(\"image\") == -1) continue;\n//           var imgObj = imgs[i].getAsFile();\n//           var url = window.URL || window.webkitURL;\n//           var src = url.createObjectURL(imgObj);\n//           $.clearRect(0,0,this.width,this.height);\n//           loadImage(src,$,c);\n//         }\n//        p.classList.add(\"main\");\n//        c.classList.add(\"img\")\n//        p.contentEditable=\"true\";\n//        c.contentEditable=\"true\";\n//        elem.parentNode.insertBefore(c, elem.nextSibling);\n//        c.parentNode.insertBefore(p, c.nextSibling);   \n//        p.focus();\n//        e.preventDefault();\n     \n//   }\n//   else {\n//     return;\n//   };\n  \n// });\n  \n\n\n// // Drawing image and setting canvas width and height\n// function loadImage(src,$,c){\n//   var img = new Image();\n//   img.onload = function(e) {       \n//      c.width = this.width;\n//      c.height = this.height;  \n//     $.drawImage(img,0,0);\n//   };\n//   img.src = src;\n// }\n\n\n\n// ********* Formatting quadratic Mathematical Equations ***********\n\n\n// function formatEqn(elem){\n//   var div = document.createElement(\"div\"),\n//       parent = elem.parentNode,\n//       data=[],\n//       sign=[],\n//       sup=[],\n//       d=0,\n//       s=0,\n//       su=0,\n//       f=0,l,\n//       firstD=1,\n//       firstS=1,\n//       temp ;\n//   div.contentEditable=\"true\" ;\n//   div.classList.add(\"eqan\");\n//   div.classList.add(\"main\");\n//   parent.replaceChild(div,elem);\n    \n//   for(var i=1;i<elem.textContent.length;i++){\n//     l = elem.textContent[i]\n//     if(l==\"^\"){   \n//       f=1;\n//       continue;\n//     }\n//     else if(l==\"+\" || l==\"-\" || l==\"=\")\n//     {\n//       sign[s]=l;\n//       s++;\n//       su++;\n//       d++;\n//       f=0;\n//       firstD=1;\n//       firstS=1;\n//     }    \n//     else if(f){\n//      var temp = (firstS)?sup[su]=l:sup[su]+=l;\n//      firstS=0;\n//     }   \n//     else {\n//       var temp = (firstD)?data[d]=l:data[d]+=l;\n//       firstD=0;\n//     }   \n//   }\n  \n//   div.innerHTML=\"<p><var>\";\n  \n//   for (var i=0;i<data.length;i++){\n    \n//     if(sup[i]==undefined && sign[i]==undefined)\n//       div.innerHTML+=data[i]\n    \n//     else if (sup[i]==undefined)\n//       div.innerHTML+=data[i]+sign[i];\n    \n//     else if (sign[i]==undefined)\n//       div.innerHTML+=data[i]+\"<sup>\"+sup[i]+\"</sup>\";\n//     else  \n//       div.innerHTML+=data[i]+\"<sup>\"+sup[i]+\"</sup>\"+ sign[i];\n    \n//   }\n//    div.innerHTML+=\"</var></p>\";\n \n// }\n}"]},"metadata":{},"sourceType":"module"}